<?xml version="1.0" encoding="UTF-8"?>
<BehaviorTree xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="../../../MetaData/schema_ai.xsd" m_ContextType="ai">
    <Parallel m_PolicySuccess="REQUIRE_ALL_DONE" m_PolicyFailure="REQUIRE_ALL_DONE">
      <!-- Move to logic module chase -->
        <CooldownTimeDelta m_CooldownTime="1" m_StatusReturned="SUCCESS">
            <Sequence>
                <Cnd_ChaseInProgress/>
                <Cnd_IsPlayer m_Target="#target"/>
                <Cnd_IsCombatTargetInLOS/>
                <Opr_OnPlayerSpottedInChase/>
            </Sequence>
        </CooldownTimeDelta>
        <Sequence>
            <Cnd_HasBBValue m_Key="#group_target_pos"/>
            <Cnd_PositionInRadius m_Position="#group_target_pos" m_Radius="15.0"/>
            <Opr_RemoveBBValue m_Key="#group_target_pos"/>
        </Sequence>
        <Sequence>
            <Selector>
                <Cnd_HasBBValue m_Key="#target"/>
                <Cnd_HasBBValue m_Key="#group_target"/>
            </Selector>
            <Opr_SetBBValue_bool m_Key="#should_check_last_target_pos" m_Value="true"/>
            <Opr_SetBBValue_bool m_Key="#any_target_noticed" m_Value="true"/>
        </Sequence>
    </Parallel>
</BehaviorTree>
